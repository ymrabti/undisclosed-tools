<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Instagram</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="bootstrap.min.css" type="text/css" />
    <link rel="icon" sizes="192x192" href="D:\Downloads\Documents\css\68d99ba29cc8.png">
    <script>
        function Cleartext() {
            document.getElementById('usernameInput').value = '';
            //$('#usernameInput').attr("value", "");
        }
        function getPhoto(a) {
            //https://instagram.com/obeid.zineb?igshid=1atw1ooq1996e
            var list1 = a.split("instagram.com/");
            if (list1.length != 1) {
                a = list1[1].split("?")[0];
            }
            document.getElementById('usernameInput').value = a;
            // validation for instagram usernames
            var regex = new RegExp(/^(?!.*\.\.)(?!.*\.$)[^\W][\w.]{0,29}$/);
            var validation = regex.test(a);

            if (validation) {

                $.get("https://www.instagram.com/" + a + "/?__a=1")
                    .done(function (data) {

                        // getting the url
                        var photoURL = data["graphql"]["user"]["profile_pic_url_hd"];
                        //var lar = parseInt(photoURL.split("/")[5].slice(1).split("x")[0]);
                        //var larstr = lar.toString(); var siz = "s" + larstr + "x" + larstr;
                        //photoURL=photoURL.replace(siz, "s480x480"); console.log(photoURL);
                        // update img element
                        $("#photoReturn").attr("src", photoURL)

                    })
                    .fail(function () {
                        // code for 404 error
                        alert('Username was not found or Network Error!')
                    })
                // onclick="Cleartext()"
            } else {

                alert('The username is invalid!')
            }

        }
        //var inp=document.getElementById("usernameInput");
        //var yassmine = document.getElementById("yassmine");
        //yassmine.onclick=function (){inp.value="";}
    </script>
</head>
<body>
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>-->
    <script src="jquery.min.js"></script>
    <!--<script src="bootstrap.bundle.js"></script>-->


    <center>

        <br><br>

        <input value="https://www.instagram.com/younes.mrabti" placeholder="type username or url." type="text" id="usernameInput">

        <button onclick="getPhoto($('#usernameInput').val().trim())">Get profile photo</button>
        <br><br>
        <button onclick="Cleartext()">clear</button>
        <button type="button" class="btn btn-sm" style="background-color:#09aacc ; color:white;" data-toggle="modal" data-target="#Backdrop">
            Static
        </button>
    </center>
    <div style="margin-top:50px" role="dialog" id="Backdrop" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <center>
                    <img src="" id="photoReturn">
                </center>

            </div>
        </div>
    </div>
    <div style="margin-top:50px" class="_2dDPU  CkGkG" role="dialog" id="Backdrop" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <center>
                    <img height="400" width="400" src="https://instagram.fcmn5-1.fna.fbcdn.net/v/t51.2885-15/e35/120200515_356498199039257_7244922833545167672_n.jpg?_nc_ht=instagram.fcmn5-1.fna.fbcdn.net&amp;_nc_cat=105&amp;_nc_ohc=RpeBOs4JA6oAX9EH-4p&amp;_nc_tp=18&amp;oh=574755c21227313544c8c790987e19ff&amp;oe=5FA507E0" />

                </center>

            </div>
        </div>
    </div>
</body>
</html>
